<script type="text/javascript" src=" ../stylesheets/jquery-1.7.2.js"></script>
<script type="text/javascript" src=" ../stylesheets/jquery.validate.js"></script>
<!-- <link type="text/css" rel="stylesheet" href="../stylesheets/jquery.qtip.css" />
<script type="text/javascript" src="../stylesheets/jquery.qtip.js"></script> -->

<script>
$(document).ready(function() {

//Input form validation method

    function isSci(txtValue) {
        var currVal = txtValue;
        if (currVal == '')
           return false;
      //Declare Regex  
      var rxNumberPattern = /^-?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/;
      var dtArray = currVal.match(rxNumberPattern); // is format OK?
      if (dtArray == null)
          return false;
      return true;
    }   

    $.validator.addMethod(
        "sciFormat",
        function (value, element) {
            return isSci(value)
        },
        "Wrong numeric format"
    );

	
    $.validator.addMethod('positiveNumber',
        function(value) {
            return Number(value) > 0;
        }, 'Positive number');

    $.validator.addMethod("mtp", function (value, element) {
        var pre_val = $(element).parent().parent().prev('tr').find('td:nth-child(2)').children('input').val();
        var cur_app_val = $(element).parent().prev('td').children('input').val();
        var cur_val = value;
        if (cur_app_val == 1) {
            return true;
        }
        else if (pre_val>cur_val){
            return false;
        }
        return true;
    }, "In an increasing order");

    $.validator.messages.required = 'Required';

									
    var validator = $('form').validate({
        errorElement: "div",
        wrapper: "div",  // a wrapper around the error message
        rules: {
            LC50: {
                required: true,
                sciFormat: true,
                positiveNumber: true
            },
            threshold: {
                required: true,
                positiveNumber: true,
                sciFormat: true
            },
            dose_response: {
                required: true,
                sciFormat: true
            }
		}
    });

    });



</script>
<style>
.error{
    border-color: #F78181;
    color:red;
}
</style>
